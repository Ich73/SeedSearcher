# Seed Searcher by Lean
This tool allows you to recover the seed of a den in Pokémon Sword and Shield. All you need to do is to input IVs, Nature, Ability, and Characteristic of up to 4 Pokémon. 

# Requirements
To run this tool you need [.NET Framework 4.8](https://dotnet.microsoft.com/download/dotnet-framework/net48) and [Microsoft Visual C++ Redistributable](https://support.microsoft.com/en-gb/help/2977003/the-latest-supported-visual-c-downloads).

# Tutorial
## Step 0 - Frame Advancements
Please read [The Advancement](https://github.com/zaksabeast/PokemonRNGGuides/blob/add/swsh/raid/guides/swsh/en/Raid%20RNG.md#the-advancement) and get familiar with how to advance frames.

## Step 1 - Catching the first Pokémon 
### A - Access to 1 and 2 Star dens
In this case you do not need to advance any frames at the beginning. Simply catch a Pokémon in the den you want to check, calculate IVs, and enter everything in the tool. Click "Check IV". If you get "Not enough info.", then you need to catch a Pokémon from the second dropdown and enter the IVs.

Note: This does not work with all IV combinations.

### B - Access to 3 to 5 star dens 
Here, you start by advancing by 3 days. Then you need to catch a Pokémon with less than 4 fixed IVs (most 2-4 star dens). After entering all information the tool either tells you that you need to catch another Pokémon with more fixed IVs from this frame, or that this Pokémon does not provide enough information. In this case repeat the process, but advance the day by one more than before. 

## Step 2 - Catch 2 more Pokémon 
Repeat the process, but you can use any Pokémon that is not from the same day as before.

## Step 3 - Calculate
Click "Start Search". This can take a long time, depending on the power of your PC. When a result is found, it will be printed in the textbox.

## UI
![Seed Searcher UI](https://raw.githubusercontent.com/Leanny/SeedSearcher/master/images/screen.png "Seed Searcher UI")

The UI consists of multiple parts.
### Configuration
Here, the Den and Rarity, or the Nest can be specified for the search. Den and Rarity uses the game internal listing. If you are more familiar with Nest numbers, i.e. because Serebii uses them, you can use them as well. Further, you can specifiy your game version.

### Pokémon Info Day 4
Here, 3 boxes are available. First, only one of them is editable. You need to catch a Pokémon with 1, 2, or 3 fixed IVs (= number of 31 IVs). After entering the information, click on "Check IVs". This check will calculate the IVs of other Pokémon on this slot with more fixed IVs than the one you entered. You might get a "NOK" as response, this happens either when no Pokémon is available with more IVs or if you used a 3IV Pokémon and the next fixed IV (i.e. the new 31 stat) could not be determined. In this case you need to advance your frame by 1 and try again.

Next, you can enter information about Pokémon with more fixed IVs. You only need to catch one of them and fill one box. The drop down tells you the Pokémon you can use for this. Also, please note that the predicted IVs will match with the Pokémon and you only need to provide data for the red boxes (if any). If the IVs do not match, double check the amount of stars from the raid or the previous input. 

Please note, that you will need your exact IVs, no ranges. An IV Calculator will be added in the next version, so for now you have to use an external one.

### Pokémon Info Day 5 and 6
This is the same as before, except you can catch any Pokémon here from this day.

### Controls
Here, your seed will be printed when its found. Click "Start Search" to start a new search. A 6/6 search should not take much time, a 5/6 search can take an hour or two, depending on the IV Deviation of your seed. 4/6 will take multiple hours per deviation, so only use it if nothing else is possible.

"New Search" will reset the form and allow you to start a new search.

"Show Results" will be enabled after a seed has been found. This opens a window where you can get more information about your seed, such as find Pokémon with specific IVs, nature, or even shinyness.

"Calculations" describes a number about your seed. At the beginning, when the IVs for your Pokémon are generated by the game, RNG might do additional calls, shifting the target sequence back in line. On average, a 2IV Pokémon has a Calculation of 0.66, which means that every third Pokémon has a Calculation of more than 0, while 2 out of 3 Pokémon have a Calculation of 0. Please note that this is an average value. There are some rare cases, where your Calculation is 6 or higher. The default value of 0-3 should handle most cases. If you cannot find your seed and your PC is fast enough, you can search with a higher Calculation value. If not, it is advised to advance the frame and start over.

# FAQ
## What does "4/6", "5/6", or "6/6" mean?
The RNG used for raids produces a sequence of random numbers. In order to get the seed from a list of Pokémon part of the random number sequence is restored. The IVs you provide for your Day 4 Pokémon belongs to this sequence of random numbers. To get the seed as fast as possible, an IV spread that allows to reconstruct 6 consecutive random numbers works the best, which is 6/6. If the IV spread provides less numbers, then the seed finding will take longer. 

## I get the ``[CUDAError] CUDA_ERROR_LAUNCH_FAILED`` error. What should I do?
In this case there is a batch file in the directory ``CudaSetup`` called ``EnableCuda.bat``. This needs to be executed as admin in order to write 2 values to the registry. After that, the PC must be rebooted in order for it to take action. For more information about what the registry entries are doing, check out the documentation by [Microsoft](https://docs.microsoft.com/de-de/windows-hardware/drivers/display/tdr-registry-keys).

# Roadmap
Here are a few points I want to add in future versions:
* GPU Search - Improves performance drastically, depending on your GPU. CUDA GPUs are supported right now, more GPUs follow.
* CMD Version - A version where you simply have to use an export as argument and get a calculation starting. This is a useful feature for bots.


# Credits
* [Rusted Coil](https://github.com/rusted-coil/OneStar) and [Pattirudon](https://github.com/pattirudon/xoroshiro-inverse) - Providing the base for my tool and figuring out most of the Math.
* [Kaphotics](https://github.com/kwsch/PKHeX) - Providing PKHeX Core, a lib I used for language strings and getting all information for specific Pokémon.
